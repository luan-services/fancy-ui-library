<!DOCTYPE html>
<html fc-theme="dark">
	<head>
		<meta charset="UTF-8" />
		<title>Teste Components</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" type="text/css" href="test.css">
	</head>
	<body>
        <h1 class="h1">Fancy UI HTML Test Sheet</h1>

        <div class="container">
            <h2 class="h2">FC-Select:</h2>
            <fc-select placeholder="Select a restaurant...">
                    <fc-option value="fastfood-1">McDonalds</fc-option>
                    <fc-option value="fastfood-2">Subway</fc-option>
                    <fc-option value="fastfood-3" disabled="true">Burger King</fc-option>
                    <fc-option value="fastfood-4">Domino's</fc-option>
            </fc-select>
        </div>
        
        <div class="container">
            <h2 class="h2">FC-Combobox:</h2>
            
            <form id="countries" style="display: flex; gap: 16px; align-items: center;">
                <fc-combobox value="country-1" placeholder="Search for a country..." name="country" strict> <!-- setting value here will create an attribute 'value' -->
                    <fc-option value="country-1">France</fc-option>
                    <fc-option value="country-2">Japan</fc-option>
                    
                    <fc-option value="country-3" disabled="true">North Korea</fc-option>
                    <fc-option value="country-4">Brazil</fc-option>
                </fc-combobox>
                <button type="submit">click</button>
            </form>
            <fc-combobox placeholder="Search for a instrument" name="instrument" disabled="true">
                <fc-option value="country-1" disabled>Guitar</fc-option>
            </fc-combobox>
            
            <fc-combobox id="cb-fruits"> 
            </fc-combobox>

        </div>

        <div class="container">
            <h2 class="h2">FC-Input:</h2>

            <fc-input minlength="3" maxlength="10" value="test" type="text" autcomplete="off"></fc-input>
            <fc-input placeholder="This is disabled..." type="text" disabled></fc-input>
            <fc-input placeholder="Enter your email..." type="email" required></fc-input>
            <fc-input placeholder="Enter your password..." type="password"></fc-input>
            <fc-input placeholder="Enter a url..." type="url"></fc-input>
            <fc-input min="32" max="400" placeholder="Type a number..." type="number"></fc-input>
            <fc-input type="file"></fc-input>
        </div>

        <div class="container">
            <h2 class="h2">FC-Error:</h2>

            <fc-input id="username" name="username" required minlength="3" placeholder="Enter your username..." type="text"></fc-input>
            <fc-error for="username"></fc-error>

            <form style="display: flex; gap: 16px; align-items: center;">
                <fc-input id="email-field" type="email" label="Email Address" required placeholder="Enter your email..."></fc-input>

                <fc-error for="email-field"></fc-error>

                <button type="submit">Submit</button>
                <button type="reset">Reset</button>
            </form>

            <form style="display: flex; gap: 16px; align-items: center;">
                
                <fc-combobox id="anime-field" placeholder="Search for an anime..." name="anime" strict required="true"> <!-- setting value here will create an attribute 'value' -->
                    <fc-option value="anime-1">One Piece</fc-option>
                    <fc-option value="anime-2">Naruto</fc-option>
                    <fc-option value="anime-3">Bleach</fc-option>
                </fc-combobox>

                <fc-error for="anime-field"></fc-error>
                
                <button type="submit">Submit</button>
                <button type="reset">Reset</button>
            </form>
        </div>

        <div class="container">
            <h2 class="h2">FC-Label:</h2>

            <fc-label for="author" required>Author:</fc-label>
            <fc-input id="author" required minlength="5" placeholder="Enter an author..." type="text"></fc-input>
            <fc-error for="author"></fc-error>
        </div>



        <script type="module">
            // imports and register all components in the DOM

            import { defineAll } from '../src/index.ts';

            defineAll();

            // ----------------------------

            // setting properties for fc-combobox via JS (with shadow DOM, not SEO friendly)
            window.addEventListener('load', () => {

                // adding a listener to test how fc-combobox can be used as form component when 'name' is set

                const countriesForm = document.getElementById("countries")
                                
                countriesForm.addEventListener("submit", e => {
                    e.preventDefault();
                    const data = new FormData(e.target);
                    console.log([...data.entries()]);
                });

                countriesForm.addEventListener("fc-invalid", e => {
                    e.preventDefault();
                    const data = new FormData(e.currentTarget);
                    console.log([...data.entries()]);
                    console.log("CAUGHT: fc-invalid"); 
                });

                countriesForm.addEventListener("invalid", e => {
                    e.preventDefault();
                    const data = new FormData(e.currentTarget);
                    console.log([...data.entries()]);
                    console.log("CAUGHT: invalid"); 
                });
                // manually adding all data from cbFruits via js

                const cbOptions = [
                    { label: 'Apple', value: 'fruit-1' },
                    { label: 'Orange', value: 'fruit-2' },
                    { label: 'Banana', value: 'fruit-3', disabled: true },
                    { label: 'Grape', value: 'fruit-4' }
                ];

                const cbFruits = document.getElementById('cb-fruits');
                
                // acFruits.options = acOptions
                cbFruits.setProps({
                    options: cbOptions,
                    placeholder: 'Search for a fruit...', // calling placeholder here will create an placeholder attribute because our SETTER does this
                    value: 'a' // calling value here will just set the initial value, it won't create an attribute value
                });

                cbFruits.addEventListener("fc-change", e => console.log(e.detail));       
                cbFruits.addEventListener("fc-input", e => console.log(e.detail));       

                // adding custom validator to fc input of id="username"
                
                const inputUsername = document.getElementById('username');

                inputUsername.validator = (name) => {
                    if (name.includes("batata")) {
                        return "Username cannot include 'batata' as text."
                    }
                    return null;
                }

            });


        </script>
	</body>
</html>