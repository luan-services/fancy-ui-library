<!DOCTYPE html>
<html fc-theme="light">
	<head>
		<meta charset="UTF-8" />
		<title>Teste Components</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" type="text/css" href="test.css">
	</head>
	<body>
        <div class="container">

            <form>
                <fc-combobox placeholder="Search for a country..." name="country">
                    <fc-option value="country-1">France</fc-option>
                    <fc-option value="country-2">Japan</fc-option>
                    
                    <fc-option value="country-4" disabled="true">North Korea</fc-option>
                    <fc-option value="country-3">Brazil</fc-option>
                </fc-combobox>
                <button type="submit">click</button>
            </form>

            <fc-combobox placeholder="Search for a instrument" name="instrument" disabled="true">
                <fc-option value="country-1" disabled>Guitar</fc-option>
            </fc-combobox>

            
            <fc-combobox id="cb-fruits"> 
            </fc-combobox>

        </div>

        <script type="module">
            // imports and register all components in the DOM

            import { defineAll } from '../src/index.ts';

            defineAll();

            // ----------------------------

            // setting properties for fc-combobox via JS (with shadow DOM, not SEO friendly)
            window.addEventListener('load', () => {

                // adding a listener to test how fc-combobox can be used as form component when 'name' is set
                                
                document.querySelector("form").addEventListener("submit", e => {
                    e.preventDefault();
                    const data = new FormData(e.target);
                    console.log([...data.entries()]);
                });

                // manually adding all data from cbFruits via js

                const cbOptions = [
                    { label: 'Apple', value: 'fruit-1' },
                    { label: 'Orange', value: 'fruit-2' },
                    { label: 'Banana', value: 'fruit-3', disabled: true },
                    { label: 'Grape', value: 'fruit-4' }
                ];

                const cbFruits = document.getElementById('cb-fruits');
                
                // acFruits.options = acOptions
                cbFruits.setProps({
                    options: cbOptions,
                    placeholder: 'Search for a fruit...',
                    current: {value: "fruit-1", label: "Apple"} // set a non-existent initial option
                });

                console.log(cbFruits.options);

                cbFruits.addEventListener("fc-change", e => console.log(e.detail));             
            });


        </script>
	</body>
</html>